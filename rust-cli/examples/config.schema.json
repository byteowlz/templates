{
  "$id": "https://github.com/byteowlz/rust-cli/schemas/config.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "rust-cli configuration",
  "description": "Configuration schema for rust-cli",
  "type": "object",
  "properties": {
    "$schema": {
      "description": "JSON Schema reference for editor support",
      "type": "string"
    },
    "logging": {
      "description": "Logging configuration",
      "allOf": [
        {
          "$ref": "#/definitions/LoggingConfig"
        }
      ],
      "default": {
        "file": null,
        "level": "info"
      }
    },
    "paths": {
      "description": "Directory path overrides",
      "allOf": [
        {
          "$ref": "#/definitions/PathsConfig"
        }
      ],
      "default": {
        "data_dir": null,
        "state_dir": null
      }
    },
    "profile": {
      "description": "Active configuration profile name",
      "type": "string",
      "default": "default"
    },
    "runtime": {
      "description": "Runtime behavior configuration",
      "allOf": [
        {
          "$ref": "#/definitions/RuntimeConfig"
        }
      ],
      "default": {
        "fail_fast": true,
        "parallelism": null,
        "timeout": 60
      }
    }
  },
  "definitions": {
    "LoggingConfig": {
      "description": "Logging configuration.",
      "type": "object",
      "properties": {
        "file": {
          "description": "Optional file path to write logs to",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "level": {
          "description": "Log level (trace, debug, info, warn, error)",
          "type": "string",
          "default": "info"
        }
      }
    },
    "PathsConfig": {
      "description": "Directory path overrides.",
      "type": "object",
      "properties": {
        "data_dir": {
          "description": "Override the data directory path",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "state_dir": {
          "description": "Override the state directory path",
          "type": [
            "string",
            "null"
          ],
          "default": null
        }
      }
    },
    "RuntimeConfig": {
      "description": "Runtime behavior configuration.",
      "type": "object",
      "properties": {
        "fail_fast": {
          "description": "Stop on first error instead of continuing",
          "type": "boolean",
          "default": true
        },
        "parallelism": {
          "description": "Number of parallel tasks (defaults to CPU count)",
          "type": [
            "integer",
            "null"
          ],
          "format": "uint",
          "default": null,
          "minimum": 0
        },
        "timeout": {
          "description": "Default timeout in seconds for operations",
          "type": [
            "integer",
            "null"
          ],
          "format": "uint64",
          "default": 60,
          "minimum": 0
        }
      }
    }
  }
}